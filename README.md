This repository contains the Django database and web API code.

# Server Dev Setup

This tutorial will walk you through setting up your local machine for modifying
and testing the server code.

## System Requirements

**Supported Operating Systems:**
- Ubuntu 16.04

It may be possible to run the server tests on OSX.
If you decide to try this, you're on your own.
Newer versions of Ubuntu are probably ok, but I haven't verified this.

## Clone and Checkout
```
git clone git@github.com:eecs-autograder/autograder-server.git
cd autograder-server
git checkout develop
```

## Install Docker Community Edition
Ubuntu: https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-docker-ce-1

## Install Postgres
```
sudo apt-get install postgresql-9.5 postgresql-client-9.5 postgresql-contrib-9.5 postgresql-server-dev-9.5
```
Set a password for the 'postgres' user.
```
sudo -u postgres psql -c "alter user postgres with password 'postgres'"
``` 
If you choose a different password, you'll need to set the AG_DB_PASSWORD 
environment variable with your chosen password:
```
export AG_DB_PASSWORD=<password>
``` 

## Install Python 3.6
```
sudo add-apt-repository ppa:deadsnakes/ppa
sudo apt-get update
sudo apt-get install python3.6 python3.6-venv python3.6-dev
curl https://bootstrap.pypa.io/get-pip.py | sudo python3.6

python3.6 -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install wheel
pip install -r requirements.txt
```

## Notes
This project uses Django 2.0 and Django Rest Framework. The API docs are
generated by DRF YASG.

To run the tests (takes about 50 minutes on my machine):
```
python3.6 manage.py -v 2 test
```

# Coding Standards
- Unless otherwise stated, code must comply with [https://www.python.org/dev/peps/pep-0008/](PEP 8).
- Limit lines to a maximum of 99 characters.
